
Теорема CAP описывает ограничения распределённых систем и утверждает, что из трёх свойств можно гарантировать только два одновременно:
- **Consistency**, согласованность — все узлы системы видят одни и те же данные в любой момент времени
- **Availability**, доступность — система отвечает на запросы даже в случае сбоя части узлов
- **Partition Tolerance**, толерантность к разделению сети — система продолжает работать, даже если связь между узлами нарушена

По большему счёту любая нагруженная распределённая система обязана соответствовать принципу P, потому что сеть по умолчанию не надёжна и это не должно ломать всю систему.

Соответственно остаётся A и C:
* AP системы - всегда доступны, но данные при этом не согласованы. В конкретный момент времени данные могут отдаваться разные. Так работает Postgres с асинхронной репликацией.
* CP система - они отдают предпочтение согласованности, они в любой момент времени отдают одинаковые данные. Так работает Postgres с синхронной репликацией (транзакция в мастере фиксируется только тогда, когда транзакция зафиксирована на всех репликах)


**Примечание**
Данных проблем не возникает при вертикальном масштабировании. В случае если мы может увеличить мощности сервера, то обязательно нужно это сделать.