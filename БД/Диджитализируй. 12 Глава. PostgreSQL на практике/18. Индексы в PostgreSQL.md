
Индексы - избыточная структура данных, цель которой ускорить доступ к данным. Для приложения они не видимы (с точки зрения запроса мы не знаем есть индексы в поле или нет). Одно и то же значение может хранится как в самой таблице, так и в индексе, на данные таблицы это не влияет.

Зачем вообще нужны индексы? Зачем класть данные в индексы и почему из них данные берутся быстрее.

Дело в том, что данные в БД пишутся в том порядке, в котором они поступают. Обычно никакой системности обычно для этого нет.

Представим справочник компаний, в котором данные абсолютно не упорядочены. И если нам нужно найти компанию на последней странице, то искать это придётся долго (так как единственный выход просто листать с первой страницы).
Хочется писать данные в произвольном порядке и быстро их искать при этом. 
Для этого мы добавляем данные в специальный поисковый **индекс**, который может использоваться для поиска. Структура данных индекс уже упорядочена. Новая строка уже вставится не в конец, а в другое место, например в центр справочника.

**Каким образом это работает?**
Один из самых популярных индексов B-tree (balanced tree) (см. скрин).

Предположим у нас есть таблица аэропортов (у каждого есть 3-х буквенный код). У нас есть две записи (AER, OVB) - который ссылается на какой-то уровень (узел) ниже. 
![[Pasted image 20251006191043.png]]

Допустим нужно найти аэропорт с кодом LED. Мы от ключа AER ссылаемся на узел AER DME KZN. Проверяем связные узлы, видем, что LED уже связан с KZN. Такое дерево не является сильно глубоким (так как оно сбалансировано) и это сокращает количество страниц, которое нам нужно считать. Также на одной странице несколько ключей, следовательно это оптимизирует хранение и позволяет быстрее достучаться до нужного места.

**Индексы позволяют искать в огромном массиве данных очень быстро**.

У нас есть таблица на миллиард записей. Если мы пользуемся индексами, то нам нужно прочитать 4 страницы по 8Кб (для хранения миллиарда записей достаточно 4 узлов. 1 узел - 1 страница). А без индекса - пришлось бы прочитать миллиард строк.
