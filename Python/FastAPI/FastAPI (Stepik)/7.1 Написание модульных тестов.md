
**Модульное тестирование** - это процесс изолированного тестирования отдельных модулей или компонентов программного приложения для проверки того, что каждый модуль работает должным образом. В контексте FastAPI единицей измерения может быть _отдельная конечная точка_, _модель данных_ или _конкретная функция в вашем API_. Написание модульных тестов позволяет нам выявлять и исправлять проблемы в изолированных компонентах, что облегчает поиск и устранение проблем в кодовой 

## Настройка тестовой среды

Модульное тестирование в Python осуществляется при помощи библиотеки `pytest` (наиболее популярная библиотека для тестирования).
```shell
pip install pytest
```
Для FastAPI создаётся новый каталог `tests`. FastAPI автоматически найдёт и запустит все тесты. Ищутся файлы с именами `*_test.py` или `test_*.py`


## Пример простейшего теста

```python
# main.py
from fastapi import FastAPI

app = FastAPI()

@app.get('/sum/')
async def root(a:int, b:int):
	return {'result': a+b}

# test.py
from fastapi.testclient import TestClient
from main import app

client = TestClient(app)

def test_calculate_sum():
	response = client.get('/sum/?a=5&b=10')
	assert response.status_code == 200
	assert response.json() == {'result': 15}
	
```