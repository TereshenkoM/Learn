
##  Обработка HTTP-запросов
FastAPI поддерживает различные методы HTTP, включая GET, POST, PUT, DELETE и другие, для обработки различных типов запросов. Определив функции Python, оформленные соответствующими декораторами HTTP-методов, вы можете проинструктировать FastAPI о том, как обрабатывать запросы каждого типа.

**Операция (operation)**

"Операция" это один из "методов" HTTP.

Таких, как:

- `POST`
- `GET`
- `PUT`
- `DELETE`

...и более экзотических:

- `OPTIONS`
- `HEAD`
- `PATCH`
- `TRACE`

По протоколу HTTP можно обращаться к каждому пути, используя один (или несколько) из этих "методов".

В FastAPI можно также использовать операции:

- `@app.get()`
- `@app.post()`
- `@app.put()`
- `@app.delete()`

И более экзотические:

- `@app.options()`
- `@app.head()`
- `@app.patch()`
- `@app.trace()`

## Модели запросов и ответов
Pydantic помимо проверки входящего запроса может использоваться и для проверки ответа (при соответствующей типизации)

**Пример:**
```python
# models/item.py
from pydantic import BaseModel


class Item(BaseModel):
	id: int
	title: str
	description: str | None = None
	price: float
	tags: list[str] = []
```

```python
# main.py
from fastapi import FastAPI
from models.item import Item


app = FastAPI()


@app.post('/items/')
async def create_item(item: Item) -> Item:
	  return item


@app.get('/items/')
async def get_items() -> list[Item]
	return [
		Item(id=1, title='Молоко', price=89.99, tags=['Молочка'] ),
		Item(id=2, title='Сметана', price=79.99, tags=['Молочка'] )
	]
```

## Обработка загрузки файлов

В FastAPI также можно загружать файлы. Для этого используются File и UploadFIle

**Пример:**

```python
from fastapi import FastAPI, File, UplaodFile
from typing import Annotated

app = FastApi()


@app.post('/files/')
async def create_file(file: Annotated[bytes, File()]):
	return {'file_size': len(file)}


@app.post('/uploadfile/')
async def create_upload_file(file: UploadFile):
	return {'filename': file.filename}
```

**Примечание**
Разница между File и UplaodFile в том, что File загружает только содержимое файла, а UploadFile загружает также метаинформацию вместе с самим содержимым.